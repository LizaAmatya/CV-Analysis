{% extends 'base.html' %}

{% block content %}
    <head>
        <title>Register</title>
        <link rel="stylesheet" href="bootstrap.min.css">
        <script type="text/javascript" src="jquery-3.3.1.slim.min.js"></script>
        <script type="text/javascript" src="popper.min.js"></script>
        <script type="text/javascript" src="bootstrap.min.js"></script>

    </head>

    <style>
        .container{
            height:650px;
            width:1200px;
            background-image: url(library.jpg)
        }
        .one{
            height:650px;
            width:400px;
            background-color: blue;
            background: rgba(255, 255, 255, 0.4);
            margin-left: 350px;
        }


    </style>
    <body>
        <div class="container bg-danger">
            <!--<div class='col-2'></div>-->
            <div class='col-8'>
                <div class='one'>
                <div class='row'>
                    <div class="col-1"></div>
                    <div class="col-8 mt-5 ">
                        <h1>Create An Account</h1>
                    </div>

                </div>
                <div class="row">
                    <div class="col-1"></div>
                    <div class="col-8 mt-5">
                        <form action="{%url 'user_register'%}" method='POST'>

                            {% csrf_token %}

                            <div class="form-group">
                                <label >Username</label>
                                <input type="text" id ="user" class="form-control"  placeholder="Username" name='name' required>
                            </div><br>


                            {{ form.user.errors }}

                            <div class="form-group">
                                <label >First Name</label>
                                <input type="text" id ="fname" class="form-control"  placeholder="First Name" name='fname' required>
                            </div><br>

                            <div class="form-group">
                                <label >Last Name</label>
                                <input type="text" class="form-control"  placeholder="Last Name" name='lname' required>
                            </div><br>

                            <div class="form-group">
                                <label >Email Address</label>
                                <input type="email" id="email" class="form-control"  placeholder="Email" name='email' required>
                            </div><br>

                            <div class="form-group">
                                <label>Phone Number</label>
                                <input type="tel" id="phn" class="form-control"  placeholder="Phone Number" name='phone' pattern="(\+977)?\d{10}" title="Enter a valid number" required>
                            </div><br>

                             <div class="form-group">
                                 <label>Password</label>
                                 <input type="password" id="pwd1" class="form-control"  placeholder="Password" name='password1' required pattern=".{8,}" title="8 or more characters">
                            </div><br>

                            <div>
                                <label>Password Confirmation</label>
                                <input type="password" id="pwd2" class="form-control" placeholder="Confirm your password" name="password2" required pattern=".{8,}">
                            </div>
                            <div>
                                <button type="submit" onclick="validatePwd()" class="btn btn-primary" name='btn_register' href="{% url 'login' %}">Sign Up</button>
                            </div>
                        </form>
                    </div>


                </div>
            </div>
            </div>
        </div>


    </body>
<script language="JavaScript" type="text/javascript">

            // function myFunction() {
            //     var user1 = document.getElementById("user").value;
            //     var email1 = document.getElementById("email").value;
            //     var phn1 = document.getElementById("phn").value;
            //     var pass1 = document.getElementById("pwd1").value;
            //     var pass2 = document.getElementById("pwd2").value;
            //     if ((user1 && email1 && phn1 && pass1 && pass2)!== null)
            //     {
            //
            //         if (pass1 !== pass2) {
            //             alert("Passwords do not match ");
            //             document.getElementById("pwd1").style.borderColor = "#E34234";
            //             document.getElementById("pwd2").style.borderColor = "#E34234";
            //         }
            //         // else {
            //         //     alert("Passwords Match!!");
            //         // }
            //     }
            // }

    var password = document.getElementById("pwd1"),
        confirm_password = document.getElementById("pwd2");

    function validatePwd() {

        if(password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Passwords Don't Match");
            document.getElementById("pwd1").style.borderColor = "#E34234";
            document.getElementById("pwd2").style.borderColor = "#E34234";

        }
        else {
            confirm_password.setCustomValidity('');
        }
    }

    password.onchange = validatePassword;
    confirm_password.onkeyup = validatePassword;

</script>


{% endblock %}